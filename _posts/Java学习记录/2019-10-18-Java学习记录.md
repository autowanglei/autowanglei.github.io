### 1.CentOS7自启动

1. 写个 shell 脚本

   写一个启动 startup 脚本，在系统启动的时候执行它
   在一个你想放启动脚本的地方创建一个 `startup.sh`，我这里创建在了 `/usr/local/scripts/startup.sh`

   文件内容如下：

   ```
   #!/bin/bash
   # start docker container
   docker start auth-server
   docker start $(docker ps -aq -f status=exited)
   ```

   设置文件权限：

   sudo chmod +x /usr/local/scripts/startup.sh

2. 设置开机启动 

   在 `/etc/rc.d/rc.local` 文件中添加开机启动执行脚本

   `sudo vi /etc/rc.d/rc.local` 编辑文件，添加自定义的启动脚本

   ```
   #!/bin/bash
   # THIS FILE IS ADDED FOR COMPATIBILITY PURPOSES
   #
   # It is highly advisable to create own systemd services or udev rules
   # to run scripts during boot instead of using this file.
   #
   # In contrast to previous versions due to parallel execution during boot
   # this script will NOT be run after all other services.
   #
   # Please note that you must run 'chmod +x /etc/rc.d/rc.local' to ensure
   # that this script will be executed during boot.
   
   touch /var/lock/subsys/local
   /usr/local/scripts/startup.sh # 新增自定义启动脚本
   ```

   设置文件权限

   ```
   chmod +x /etc/rc.d/rc.local
   ```

### 2.redis部署

 	https://www.jianshu.com/p/cb3f94b263da 

1. docker pull redis:5.0.6
2. docker volume create redis
3. docker run -p 6379:6379  --restart=always  --mount source=redis,destination=/var/lib/redis  -v /etc/localtime:/etc/localtime  --name redis  -d redis:5.0.6 redis-server --appendonly yes
4. 