## 接口并行



```java
 //线程池
    static ExecutorService taskExe = Executors.newFixedThreadPool(10);
    @Override
    public String getUserInfo(String useId) {
        long ti = System.currentTimeMillis();
        Callable<JSONObject> queryUserInfo = new Callable<JSONObject>() {
            @Override
            public JSONObject call() throws Exception {
                String userInfo = remoteService.getUserInfo(useId);
                JSONObject userJson = JSONObject.parseObject(userInfo);
                return  userJson;
            }
        };

        Callable<JSONObject> queryMoneyInfo = new Callable<JSONObject>() {
            @Override
            public JSONObject call() throws Exception {
                String moneyInfo = remoteService.getUserMoney(useId);
                return JSONObject.parseObject(moneyInfo);
            }
        };

        FutureTask<JSONObject> userFutureTask = new FutureTask<>(queryUserInfo);
        FutureTask<JSONObject> moneyFutureTask =new FutureTask<>(queryMoneyInfo);
		//创建线程
        taskExe.submit(userFutureTask); //http
        taskExe.submit(moneyFutureTask);

        JSONObject result = new JSONObject();
        try {
            result.putAll(userFutureTask.get()); //http返回前，get停留在此
            result.putAll(moneyFutureTask.get());
        } catch (InterruptedException e) {
            e.printStackTrace();
        } catch (ExecutionException e) {
            e.printStackTrace();
        }

        return result.toString();
    }
```





